
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>5.5. 함수 &#8212; 빅데이터 개론 2</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystyle.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="6. 표본과 경험적 분포" href="../06/sampling-intro.html" />
    <link rel="prev" title="5.4. 확률의 기초" href="data_probability.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">빅데이터 개론 2</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   빅데이터 개론 2
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/intro-course.html">
   1. 서론
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/intro-program.html">
     1.1. 프로그래밍 언어
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/intro-stat.html">
     1.2. 통계학
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/intro-python.html">
   2. 파이선의 기초
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/basic-expression.html">
     2.1. 표현식과 변수
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/data-processing-intro.html">
     2.2. 데이터의 처리
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/data-processing-train-passenger.html">
     2.3. 고속열차 여객 수송자료
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/data-processing-text.html">
     2.4. 어린 왕자
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/types.html">
   3. 자료의 형식
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/numbers.html">
     3.1. 숫자
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/string.html">
     3.2. 문자열
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/array.html">
     3.3. 행렬
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04/dataframe.html">
   4. 데이터프레임
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/dataframe-intro.html">
     4.1. 데이터프레임의 정의와 구성요소
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/dataframe-change.html">
     4.2. 데이터프레임의 정리
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/dataframe-summary.html">
     4.3. 데이터프레임의 요약
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/dataframe-merge.html">
     4.4. 데이터프레임의 결합
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="data-intro.html">
   5. 분포와 확률
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="data_distribution.html">
     5.1. 자료의 분포
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data_randomness.html">
     5.2. 분포와 우연성
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data_random_experiment.html">
     5.3. 확률과 컴퓨터 실험
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="data_probability.html">
     5.4. 확률의 기초
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     5.5. 함수
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06/sampling-intro.html">
   6. 표본과 경험적 분포
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06/sample.html">
     6.1. 표본과 정보
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/chapters/05/data_function.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/UOS-Bigdata/bigdatabook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/UOS-Bigdata/bigdatabook/master?urlpath=tree/chapters/05/data_function.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/UOS-Bigdata/bigdatabook/blob/master/chapters/05/data_function.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   5.5.1. 함수의 기초 사용법
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     5.5.1.1. 수학 함수
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     5.5.1.2. 인자의 개수
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     5.5.1.3. 함수와 라이브러리
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     5.5.1.4. 인자의 종류
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   5.5.2. 사용자 함수
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     5.5.2.1. 사용자 함수의 정의
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     5.5.2.2. 사용자 함수: 예제
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   5.5.3. 함수와 메소드
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id11">
   5.5.4. 데이터프레임과 함수
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     5.5.4.1. 모든 셀에 적용
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     5.5.4.2. 열과 행의 요약
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     5.5.4.3. 2개 이상의 인자
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id15">
   5.5.5. 함수의 데이터 취급
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id16">
   5.5.6. 요약
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id17">
   5.5.7. 예제: 윷놀이의 확률
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="id1">
<h1><span class="section-number">5.5. </span>함수<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>우리는 지금까지 파이썬 프로그램을 배우면서 메소드(method) 또는 함수(function) 이라는 용어를 사용하였다. 사실 프로그램 언어에서 메소드와 함수는 동일한 의미를 가진다.</p>
<p>이제 메소드와 함수에 대하여 좀 더 자세하게 알아보자. 일단 함수라는 단어는 자주 들어보았고 더 쉬운 것 같으니 먼저 함수를 생각해보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 필요한 라이브러리 불러오기</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">stats</span>
<span class="kn">from</span> <span class="nn">itertools</span> <span class="kn">import</span> <span class="n">product</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2><span class="section-number">5.5.1. </span>함수의 기초 사용법<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>여러분들은 함수(function)라는 단어를 어디선가 본 적이 있을 것이다. 대부분 수학 교과서에서 함수를 다음과 같이 나타내는 것을 기억할 것이다.</p>
<div class="math notranslate nohighlight">
\[ z = f(x, y) \]</div>
<p>위의 식에서 <span class="math notranslate nohighlight">\(x\)</span> 와 <span class="math notranslate nohighlight">\(y\)</span> 의 값이 주어지면 함수 <span class="math notranslate nohighlight">\(f\)</span>는 <span class="math notranslate nohighlight">\(x,y\)</span>를 이용하여 주어진 작업을 수행하고 마지막으로 결과 <span class="math notranslate nohighlight">\(z\)</span>를 구해준다는 의미이다. 함수에 주어지는 입력값 <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> 를 <strong>인자(arguement)</strong> 라고 한다.</p>
<div class="section" id="id3">
<h3><span class="section-number">5.5.1.1. </span>수학 함수<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>수학에 관련된 디양한 수학 함수는 <code class="docutils literal notranslate"><span class="pre">numpy</span></code> 라이브러리에 정의되어 있다. 여러분이 사용하고자 하는 수학 함수의 대부분은 <code class="docutils literal notranslate"><span class="pre">numpy</span></code> 라이브러리의 <a class="reference external" href="https://numpy.org/doc/stable/">매뉴얼</a>에서 찾을 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.4142135623730951
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.302585092994046
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.1411200080598672
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id4">
<h3><span class="section-number">5.5.1.2. </span>인자의 개수<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>자료를 생성하거나, 요역하거나 또는 변형하는 기본적인 유용한 함수들도 미리 정의되어 있다.</p>
<p>먼저 <code class="docutils literal notranslate"><span class="pre">numpy</span></code> 라이브러리에 벡터를 생성하는 함수 <code class="docutils literal notranslate"><span class="pre">arange()</span></code>를 보자. 함수 <code class="docutils literal notranslate"><span class="pre">arange()</span></code>는 다음과 같이 3개의 인자를 가질 수 있으며 괄호 <code class="docutils literal notranslate"><span class="pre">(...)</span></code> 안에 주어진 값은 차례대로 대응하는 인자에 연결된다. 함수의 자세한 사용법은 라이브러리의 <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.arange.html">매뉴얼</a>을 참조해야 한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">([</span><span class="n">start</span><span class="p">,</span> <span class="p">]</span> <span class="n">stop</span><span class="p">,</span> <span class="p">[</span><span class="n">step</span><span class="p">,</span> <span class="p">])</span>
</pre></div>
</div>
<p>인자들 중에 <code class="docutils literal notranslate"><span class="pre">[]</span></code> 로 묶여저 있는 것들은 선택적으로 사용할 수 있는 인자들이다. 따라서 함수 <code class="docutils literal notranslate"><span class="pre">np.arange()</span></code> 는 다음과 같이 주어진 목적에 따라 3개의 인자들을 선택적으로 사용할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 하나의 인자인 경우 numpy.arange(stop) - 0 부터 stop-1 까지 1씩 증가하는 벡터</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># 두 개의 인자인 경우 numpy.arange(start, stop) - start 부터 stop-1 까지 1씩 증가하는 벡터</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([5, 6, 7, 8, 9])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mf">0.5</span><span class="p">)</span> <span class="c1"># 세 개의 인자인 경우 numpy.arange(start, stop, step) - start 부터 stop-1 까지 step 씩 증가하는 벡터</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([10. , 10.5, 11. , 11.5, 12. , 12.5, 13. , 13.5, 14. , 14.5, 15. ,
       15.5, 16. , 16.5, 17. , 17.5, 18. , 18.5, 19. , 19.5])
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id5">
<h3><span class="section-number">5.5.1.3. </span>함수와 라이브러리<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<p>이제 다음과 같은 자료를 요약할 수 있는 중요한 함수 몇 가지의 예를 들어 보자.</p>
<p><code class="docutils literal notranslate"><span class="pre">max</span></code> 와 <code class="docutils literal notranslate"><span class="pre">sum</span></code>과 같은 함수는 파이썬 자체와 <code class="docutils literal notranslate"><span class="pre">numpy</span></code>에 모두 정의되어 있지만, 함수<code class="docutils literal notranslate"><span class="pre">mean</span></code> 은  파이썬 자체에 정의되어 있지 않다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">max(x)</span></code> : <code class="docutils literal notranslate"><span class="pre">x</span></code> 의 원소들의 최대값을 구하는 함수 (<code class="docutils literal notranslate"><span class="pre">np.max</span></code>와 동일한 기능)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sum(x)</span></code> : <code class="docutils literal notranslate"><span class="pre">x</span></code> 의 원소들의 합을 구하는 함수  (<code class="docutils literal notranslate"><span class="pre">np.sum</span></code>와 동일한 기능)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.mean(x)</span></code> : <code class="docutils literal notranslate"><span class="pre">x</span></code> 의 원소들의 평균을 구하는 함수</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">np.cumsum(x)</span></code> : <code class="docutils literal notranslate"><span class="pre">x</span></code> 의 원소들의 누적합(cumulative sum)을 구하는 함수</p></li>
</ul>
<p>위에서 <code class="docutils literal notranslate"><span class="pre">np.cumsum(x)</span></code> 의 결과는 벡터인 것에 유의하자. 즉 함수의 결과값은 하나의 숫자일 수 있고, 벡터, 행렬, 리스트 등 파이썬에서 사용하는 다양한 자료의 형식으로 나타날 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(9, 9)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(45, 45)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 0,  1,  3,  6, 10, 15, 21, 28, 36, 45])
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id6">
<h3><span class="section-number">5.5.1.4. </span>인자의 종류<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>여러분이 지금까지 배운 함수 중에 가장 복잡한 형태의 함수는 외부화일에서 자료를 읽어서 데이터프레임을 만드는 함수이다. 외부화일에서 자료를 읽어서 데이터프레임을 만드는 함수는 라이브러리 <code class="docutils literal notranslate"><span class="pre">pandas</span></code> 에 정의된 함수<code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> 이다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8-sig&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>함수<code class="docutils literal notranslate"><span class="pre">read_csv()</span></code>는 여러 개의 인자(arguement)를 있는데 첫 번째 인자인 화일 이름 <code class="docutils literal notranslate"><span class="pre">&quot;data.txt</span></code>은 <strong>디폴트(default) 인자</strong> 로서 인자의 값만 써주면 된다.</p>
<p>이후에 나오는 인자들은 <strong>키워드(keyword) 인자</strong> 로서 주어진 키워드를 쓰고 그 값을 <code class="docutils literal notranslate"><span class="pre">=</span></code>으로 지정해 주어야 한다.</p>
</div>
</div>
<div class="section" id="id7">
<h2><span class="section-number">5.5.2. </span>사용자 함수<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>이제 사용자가 필요한 함수를 만드는 방법에 대하여 배워 보자.</p>
<p>먼저 앞에서 배운 반복문과 조건문을 이용하여 주어진 <strong>숫자 벡터 또는 리스트에 있는 양수들의 합</strong> 을 구하는 코드를 생각해 보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_numbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>

<span class="n">my_sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">my_numbers</span> <span class="p">:</span>
  <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span>
    <span class="n">my_sum</span> <span class="o">=</span> <span class="n">my_sum</span> <span class="o">+</span> <span class="n">value</span>

<span class="n">my_sum</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>45
</pre></div>
</div>
</div>
</div>
<p>만약에 다른 숫자 벡터에 대한  양수들의 합을 구하고 싶다면 위의 코드를 조금만 바꾸어 쓰면 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">your_numbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>

<span class="n">your_sum</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">your_numbers</span> <span class="p">:</span>
  <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span>
    <span class="n">your_sum</span> <span class="o">=</span> <span class="n">your_sum</span> <span class="o">+</span> <span class="n">value</span>

<span class="n">your_sum</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>435
</pre></div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3><span class="section-number">5.5.2.1. </span>사용자 함수의 정의<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>위와 같이 적용되는 대상만 바뀌면서 수행하는 작업이 동일한 경우 사용자는 일련의 동일한 작업을 수행하는 자신 만의 함수(user defined function)를 정의할 수 있다. 사용자는 동일한 작업을 반복하는 경우 자신 만의 함수를 정의하여 유용하고 효율적으로 사용할 수 있다. 만약 주어진 모든 수를 더하는 함수 <code class="docutils literal notranslate"><span class="pre">sum()</span></code> 이 미리 정의되어 있지 않은 경우를 상상해 보라!</p>
<p>사용자 함수는 다음과 같이 정의한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
  <span class="o">...</span>
  <span class="o">...</span>
  <span class="o">...</span>

  <span class="k">return</span> <span class="o">...</span>
</pre></div>
</div>
<p>위의 함수를 정의하는 코드의 구성 요소를 설명해 보자.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">def</span></code> : 함수가 정의되는 문장임을 알리는 예약어 (define의 준말)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_name</span></code> : 사용자가 결정하는 함수의 이름</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">x...)</span> <span class="pre">:</span> </code> : 함수 안에서 사용할 인자의 이름을 정하고 마지막 괄호 뒤에는 꼭 <code class="docutils literal notranslate"><span class="pre">:</span></code>으로 끝나야 한다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.....</span></code> : 함수의 작업을 수행하는 코드들 (꼭 들여쓰기를 맞추어야 한다)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">...</span></code> : 함수의 마지막 결과로서 <code class="docutils literal notranslate"><span class="pre">...</span></code>를 출력한다. 출력하는 값의 개수는 2개 이상도 가능하며 컴마로 구분한다. <code class="docutils literal notranslate"><span class="pre">retrun</span></code> 은 예약어이다.</p></li>
</ul>
<p>함수를 정의할 때 함수의 이름과 인자를 정의하는 부분 <code class="docutils literal notranslate"><span class="pre">function_name(x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">...)</span></code> 을 함수의 서명(signature) 라고 부른다. 또한 함수의 서명 뒤에 나오는 일련의 코드들을 함수의 몸통(body)이라고 부른다.</p>
</div>
<div class="section" id="id9">
<h3><span class="section-number">5.5.2.2. </span>사용자 함수: 예제<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<p>먼저 아주 간단한 함수의 예를 들어보자.</p>
<p>음수의 값을 양수로 바꾸어 주는 함수 <code class="docutils literal notranslate"><span class="pre">minus2plus(x)</span></code> 를 다음과 같이 정의해 보자.</p>
<p>인자 <code class="docutils literal notranslate"><span class="pre">x</span></code> 를 입력해서 0보다 작으면 <code class="docutils literal notranslate"><span class="pre">res</span></code> 값을 <code class="docutils literal notranslate"><span class="pre">-x</span></code> 로 지정하고 아니면 <code class="docutils literal notranslate"><span class="pre">x</span></code> 로 지정한다. 마지막으로 <code class="docutils literal notranslate"><span class="pre">res</span></code> 의 값을 출력한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">minus2plus</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">:</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">x</span>
  <span class="k">else</span> <span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">x</span>
  <span class="k">return</span> <span class="n">res</span>
</pre></div>
</div>
</div>
</div>
<p>이제 인자를 바꾸어 가면서 출력된 값이 어떻게 나오는지 살펴 보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">minus2plus</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">minus2plus</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">minus2plus</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0
</pre></div>
</div>
</div>
</div>
<p>만약 문자열로 인자로 주면 어떤 일이 일어날까?</p>
<p>오류가 발생한다! 그 이유는 함수 안에서  문자와 0을 비교하는 코드 <code class="docutils literal notranslate"><span class="pre">value</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> 을 수행할 수 없기 때문이다.
따라서 사용자가 함수를 정의한 후 사용할 경우, 입력할 객체를 함수에서 정의한 인자의 형식과 구조에 맞게 선택해 주어야 한다.</p>
<p>즉, 함수 <code class="docutils literal notranslate"><span class="pre">minus2plus</span></code> 의 인자 <code class="docutils literal notranslate"><span class="pre">x</span></code> 는 숫자로 주어져야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">minus2plus</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">&lt;ipython-input-22-6ce9a634737f&gt;</span> in <span class="ni">&lt;module&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">minus2plus</span><span class="p">(</span><span class="s2">&quot;A&quot;</span><span class="p">)</span>

<span class="nn">&lt;ipython-input-18-1ca3f8401473&gt;</span> in <span class="ni">minus2plus</span><span class="nt">(x)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">minus2plus</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">:</span>
<span class="ne">----&gt; </span><span class="mi">2</span>   <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="n">res</span> <span class="o">=</span> <span class="o">-</span><span class="n">x</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>   <span class="k">else</span> <span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>     <span class="n">res</span> <span class="o">=</span> <span class="n">x</span>

<span class="ne">TypeError</span>: &#39;&lt;&#39; not supported between instances of &#39;str&#39; and &#39;int&#39;
</pre></div>
</div>
</div>
</div>
<p>이제 하나의 값이 아닌 여러 개의 값을 가진 리스트나 벡터를 인자로 하는 함수를 예를 들어 보자.</p>
<p>앞에서 본 사례에서 본 문제를 함수로 해결해 보자.  숫자로 구성된 벡터나 리스트에서 양수들만의 합을 구하는 함수를 <code class="docutils literal notranslate"><span class="pre">sum_positive</span></code>  란 이름으로 정의해 보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum_positive</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">:</span>
  <span class="n">sum_plus</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
    <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">:</span>
      <span class="n">sum_plus</span> <span class="o">=</span> <span class="n">sum_plus</span> <span class="o">+</span> <span class="n">value</span>
  <span class="k">return</span> <span class="n">sum_plus</span>
</pre></div>
</div>
</div>
</div>
<p>이제 벡터마다 양수들만의 합을 구하려면 긴 코드를 반복해서 쓰지 않고 함수 <code class="docutils literal notranslate"><span class="pre">sum_positive</span></code>를 사용하면 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sum_positive</span><span class="p">(</span><span class="n">my_numbers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>45
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">your_sum</span> <span class="o">=</span> <span class="n">sum_positive</span><span class="p">(</span><span class="n">your_numbers</span><span class="p">)</span> <span class="c1"># 함수의 결과를 새로운 변수에 저장</span>
<span class="n">your_sum</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>435
</pre></div>
</div>
</div>
</div>
<p>이제 조금 더 복잡한 함수를 정의해 보자. 문자로 구성된 리스트(벡터)에 주어진 문자열이 포함된 원소가 몇 개가 있는지 세어주는 함수 <code class="docutils literal notranslate"><span class="pre">count_char</span></code>를 정의해 보자.</p>
<p>이 경우 문자 벡터와 찾고자 하는 문자열, 즉 2개의 인자를 가진 함수를 정의해야 한다. 아래 함수에서 두 개의 <code class="docutils literal notranslate"><span class="pre">in</span></code> 이 니타나는데 각각 기능이 다르다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">value</span> <span class="pre">in</span> <span class="pre">x</span></code>: 루프(loop)를 수행할 때 사용되는 반복 객체 앞에 나타나는 예약어 <code class="docutils literal notranslate"><span class="pre">in</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">c</span> <span class="pre">in</span> <span class="pre">value</span></code> : 문자열 <code class="docutils literal notranslate"><span class="pre">c</span></code> 가 문자열<code class="docutils literal notranslate"><span class="pre">value</span></code> 안에 있는지 점검해주는 예약어 <code class="docutils literal notranslate"><span class="pre">in</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_char</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="p">:</span>
  <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
    <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">value</span> <span class="p">:</span>
      <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="n">count</span>
</pre></div>
</div>
</div>
</div>
<p>이제 학생의 이름이 나열된 리스트에서  이름이 <code class="docutils literal notranslate"><span class="pre">용희</span></code>인 학생이 몇 명인지 알아보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">student_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;김철수&#39;</span><span class="p">,</span> <span class="s1">&#39;이용희&#39;</span><span class="p">,</span> <span class="s1">&#39;손흥민&#39;</span><span class="p">,</span> <span class="s1">&#39;방탄소년&#39;</span><span class="p">,</span> <span class="s1">&#39;김용희&#39;</span><span class="p">,</span> <span class="s1">&#39;박서준&#39;</span><span class="p">,</span> <span class="s1">&#39;김지원&#39;</span><span class="p">]</span>
<span class="n">count_char</span><span class="p">(</span><span class="n">student_names</span><span class="p">,</span> <span class="s2">&quot;용희&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<p>또한 윷놀이를 하는 경우 4개의 윷이 던져진 결과에서 <code class="docutils literal notranslate"><span class="pre">등</span></code> 의 개수를 세어주는 작업을 수행해 보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_draw</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;등&#39;</span><span class="p">,</span> <span class="s1">&#39;등&#39;</span><span class="p">,</span> <span class="s1">&#39;배&#39;</span><span class="p">,</span> <span class="s1">&#39;등&#39;</span><span class="p">]</span>
<span class="n">count_char</span><span class="p">(</span><span class="n">yoot_draw</span><span class="p">,</span> <span class="s2">&quot;등&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id10">
<h2><span class="section-number">5.5.3. </span>함수와 메소드<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>또한 우리는 데이터프레임에서 자료를 요약하는 몇 가지 함수를 이용해 보았다. 데이터프레임에서 함수를 메소드라고 불렀다. 데이터프레임에서 함수를 메소드(method, 방법)라고 부른 이유는 <strong>함수가 데이터프레임에 적용되는 방법</strong> 이 미리 정의되어 있어서 컴마로 연결하여 연쇄적으로 사용할 수 있기 때문이다.</p>
<p>메소드는 주어진 객체(<code class="docutils literal notranslate"><span class="pre">object</span></code>)뒤에 컴마로 연결된 함수(<code class="docutils literal notranslate"><span class="pre">function</span></code>)를 뜻한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">object</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">....</span><span class="p">)</span>
</pre></div>
</div>
<p>예를 들어 함수 <code class="docutils literal notranslate"><span class="pre">append(x)</span></code>는 주어진 리스트의 마지막에 <code class="docutils literal notranslate"><span class="pre">x</span></code> 를 붙여주는 메소드이다. 따라서 <code class="docutils literal notranslate"><span class="pre">list.append(x)</span></code> 의 형태로 사용된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 4, 5]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1, 2, 3, 4, 5, 100]
</pre></div>
</div>
</div>
</div>
<p>또한 데이터프레임에 적용되는 <code class="docutils literal notranslate"><span class="pre">sum()</span></code> 함수는 인자를 지정하지 않으면 디폴트로 열의 합을 구해주는 메소드이다.</p>
<p>형식은 <code class="docutils literal notranslate"><span class="pre">dataframe.sum()</span></code> 이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>-3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-4</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x   -7
y    2
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>만약 인자 <code class="docutils literal notranslate"><span class="pre">axis=1</span></code>  로 주면 각 행의 합계를 구해준다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0   -9
1    4
2    2
3   -2
dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id11">
<h2><span class="section-number">5.5.4. </span>데이터프레임과 함수<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<p>우리는 데이터프레임에서 자료를 요약하는 몇 가지 함수(메소드)를 이용해 보았다. 이제 사용자가 정의한 함수를 데이터프레임에서 메소드처럼 적용하는 방법을 배워보자.</p>
<div class="section" id="id12">
<h3><span class="section-number">5.5.4.1. </span>모든 셀에 적용<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<p>데이터 프레임의 모든 값들 중 음수를 양수로 바꾸고 싶다면 위에서 정의된 함수 <code class="docutils literal notranslate"><span class="pre">minus2plus</span></code> 를 모든 셀에 적용해야 한다.</p>
<p>사용자 정의 함수는 데이터 프레임에 메소드로 적용하려면 <code class="docutils literal notranslate"><span class="pre">applymap(function)</span></code> 메소드를 다음과 같이 적용한다. 말 그대로 주어진 함수 <code class="docutils literal notranslate"><span class="pre">function</span></code> 을 모든 셀에 적용(<code class="docutils literal notranslate"><span class="pre">applymap</span></code>) 하라는 의미이다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataframe</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">minus2plus</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>x</th>
      <th>y</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>10</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id13">
<h3><span class="section-number">5.5.4.2. </span>열과 행의 요약<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<p>데이터프레임의 각 열 또는 행에 우리가 만든 양수들만의 합을 구하는 함수 <code class="docutils literal notranslate"><span class="pre">sum_positive()</span></code>를 다른 메소드처럼 적용할 수 있을까?</p>
<p>먼저 함수 <code class="docutils literal notranslate"><span class="pre">sum_positive()</span></code> 는 사용자 정의 함수이기 때문에 데이터 프레임에 미리 정의된 다른 메소드(예를 들어 <code class="docutils literal notranslate"><span class="pre">sum</span></code>)과는 적용하는 방법이 다르다. 사용자 정의 함수를 열과 행의 메소드로 적용하려면 <code class="docutils literal notranslate"><span class="pre">apply(function,</span> <span class="pre">axis=0)</span></code> 메소드를 다음과 같이 적용한다. 말 그대로 주어진 함수 <code class="docutils literal notranslate"><span class="pre">function</span></code> 를 각 열에 적용(<code class="docutils literal notranslate"><span class="pre">apply</span></code>) 하라는 의미이다.</p>
<p>앞에서 모든 셀에 적용할 때 사용한 <code class="docutils literal notranslate"><span class="pre">applymap</span></code>과 다른 <code class="docutils literal notranslate"><span class="pre">apply</span></code> 를 사용하는 것에 주의하자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">sum_positive</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1"># axis = 0 은 함수를 각 열에 대하여 적용</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>x    7
y    5
dtype: int64
</pre></div>
</div>
</div>
</div>
<p>함수를 데이터프레임의 각 행에 대하여 적용 하는 경우 <code class="docutils literal notranslate"><span class="pre">apply(function,</span> <span class="pre">axis=1)</span></code> 메소드를 적용한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">sum_positive</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># axis = 1 은 함수를 각 행에 대하여 적용</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0    1
1    4
2    5
3    2
dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id14">
<h3><span class="section-number">5.5.4.3. </span>2개 이상의 인자<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<p>만약 함수의 인자가 2개 이상일 경우, 데이터프레임의 열 또는 행으로 지정되는 인자를 제외하고 함수의 서명에서 정의된 다른 인자들의 이름에 <code class="docutils literal notranslate"><span class="pre">=</span></code> 로 값을 다음과 같이 지정해 준다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">):</span>
  <span class="o">....</span>
  <span class="o">....</span>
  <span class="k">return</span> <span class="o">...</span>

<span class="n">dataframe</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>예를 들어 위에서 정의한 함수 <code class="docutils literal notranslate"><span class="pre">count_char(x,c)</span></code> 를 데이터프레임에 적용하는 방법은  다음과 같다.</p>
<p>인자 <code class="docutils literal notranslate"><span class="pre">x</span></code> 는 데이터프레임의 행 또는 열이 되므로 따로 지정하지 않아도 된다. 찾고자 하는 문자열을 입력해주는 나머지 인자 <code class="docutils literal notranslate"><span class="pre">c</span></code> 는 함수 이름 뒤에 <code class="docutils literal notranslate"><span class="pre">c='용희'</span></code> 의 형태로 지정해 준다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">student_names</span><span class="p">})</span>
<span class="n">df2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>김철수</td>
    </tr>
    <tr>
      <th>1</th>
      <td>이용희</td>
    </tr>
    <tr>
      <th>2</th>
      <td>손흥민</td>
    </tr>
    <tr>
      <th>3</th>
      <td>방탄소년</td>
    </tr>
    <tr>
      <th>4</th>
      <td>김용희</td>
    </tr>
    <tr>
      <th>5</th>
      <td>박서준</td>
    </tr>
    <tr>
      <th>6</th>
      <td>김지원</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">count_char</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;용희&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name    2
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df2</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">count_char</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;김&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>name    3
dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="id15">
<h2><span class="section-number">5.5.5. </span>함수의 데이터 취급<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h2>
<p>우리는 다양한 데이터(리스트, 데이처프레임….)를 변수에 지정하여 사용하는 법을 배웠다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">variable_name</span> <span class="o">=</span> <span class="n">data</span>
</pre></div>
</div>
<p>정의된 함수도 데이터처럼 취급하여 다른 이름을 가진 함수로 지정할 수 있다. 즉 함수도 하나의 데이터처럼 취급할 수 있는 것이다.</p>
<p>예를 들어 위에서 정의한 함수 <code class="docutils literal notranslate"><span class="pre">minus2plus</span></code> 를 다른 이름 <code class="docutils literal notranslate"><span class="pre">another_function</span></code> 으로 지정해 보자. 지정된 함수 <code class="docutils literal notranslate"><span class="pre">another_function</span></code> 은  이미 정의한 함수 <code class="docutils literal notranslate"><span class="pre">minus2plus</span></code>와 똑같은 기능을 가진다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">another_function</span> <span class="o">=</span> <span class="n">minus2plus</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">another_function</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>20
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">another_function</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>30
</pre></div>
</div>
</div>
</div>
<p>함수를 데이터와 유사하게 취급할 수 있기 때문에 다른 함수의 인자로서 사용될 수 있다.</p>
<p>예를 회사에서 보너스를 주는 규칙을 함수로 만들었다고 하자. 연봉이 3000만원 이하면 연봉의 20%, 3000만원 초과면 15%를 보너스로 준다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bonus_amount</span><span class="p">(</span><span class="n">salary</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">salary</span> <span class="o">&lt;=</span> <span class="mi">3000</span> <span class="p">:</span>
    <span class="n">bonus</span> <span class="o">=</span> <span class="n">salary</span> <span class="o">*</span> <span class="mf">0.2</span>
  <span class="k">else</span> <span class="p">:</span> 
    <span class="n">bonus</span> <span class="o">=</span> <span class="n">salary</span> <span class="o">*</span> <span class="mf">0.15</span>

  <span class="k">return</span> <span class="n">bonus</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bonus_amount</span><span class="p">(</span><span class="mi">2000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>400.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bonus_amount</span><span class="p">(</span><span class="mi">4000</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>600.0
</pre></div>
</div>
</div>
</div>
<p>이제 직원 1명을 고용해서 드는 총비용이 연봉(<code class="docutils literal notranslate"><span class="pre">salary</span></code>), 보험료(<code class="docutils literal notranslate"><span class="pre">insurance</span></code>), 야근 수당(<code class="docutils literal notranslate"><span class="pre">night</span></code>), 보너스를 합친 액수라고 하자. 이러한 총비용을 계산하는 함수 <code class="docutils literal notranslate"><span class="pre">total_expense</span></code> 를 다음과 같이 정의하자.  함수 <code class="docutils literal notranslate"><span class="pre">total_expense</span></code> 의 마지막 인자는 보너스를 계산하는 함수 이름이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">total_expense</span><span class="p">(</span><span class="n">salary</span><span class="p">,</span> <span class="n">insurance</span><span class="p">,</span> <span class="n">night</span><span class="p">,</span> <span class="n">bonus_function</span><span class="p">)</span> <span class="p">:</span>
  <span class="n">expense</span>  <span class="o">=</span> <span class="n">salary</span> <span class="o">+</span> <span class="n">insurance</span> <span class="o">+</span> <span class="n">night</span> <span class="o">+</span> <span class="n">bonus_function</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">expense</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">total_expense</span><span class="p">(</span><span class="mi">4000</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">bonus_amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4900.0
</pre></div>
</div>
</div>
</div>
<p>만약 보너스 지급에 대한 규칙이 바뀌면 보너스를 계산하는 함수 <code class="docutils literal notranslate"><span class="pre">bonus_amount</span></code> 만 바꾸면 된다.</p>
<p>예를 들어 이번 해는 경영 성과가 너무 좋아서 모든 직원에게 1000만원 특별 보너스를 지급하려고 한다. 새로운 함수 <code class="docutils literal notranslate"><span class="pre">bonus_amount_special</span></code> 를 만들고 총비융을 계산하는 함수에 인자로 보내주면 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bonus_amount_special</span><span class="p">(</span><span class="n">salary</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">salary</span> <span class="o">&lt;=</span> <span class="mi">3000</span> <span class="p">:</span>
    <span class="n">bonus</span> <span class="o">=</span> <span class="n">salary</span> <span class="o">*</span> <span class="mf">0.2</span>
  <span class="k">else</span> <span class="p">:</span> 
    <span class="n">bonus</span> <span class="o">=</span> <span class="n">salary</span> <span class="o">*</span> <span class="mf">0.15</span>
  
  <span class="n">bonus</span> <span class="o">=</span> <span class="n">bonus</span> <span class="o">+</span> <span class="mi">1000</span>

  <span class="k">return</span> <span class="n">bonus</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">total_expense</span><span class="p">(</span><span class="mi">4000</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">bonus_amount_special</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5900.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id16">
<h2><span class="section-number">5.5.6. </span>요약<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h2>
<p>사용자 함수는 다음과 같이 정의한다.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">function_name</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="o">...</span><span class="p">):</span>
  <span class="o">...</span>
  <span class="o">...</span>
  <span class="o">...</span>

  <span class="k">return</span> <span class="o">...</span>
</pre></div>
</div>
<p>위의 함수를 정의하는 코드의 구성 요소를 설명해 보자.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">def</span></code> : 함수가 정의되는 문장임을 알리는 예약어 (define의 준말)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function_name</span></code> : 사용자가 결정하는 함수의 이름</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y,</span> <span class="pre">x...)</span> <span class="pre">:</span> </code> : 함수 안에서 사용할 인자의 이름을 정하고 마지막 괄호 뒤에는 꼭 <code class="docutils literal notranslate"><span class="pre">:</span></code>으로 끝나야 한다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.....</span></code> : 함수의 작업을 수행하는 코드들 (꼭 들여쓰기를 맞추어야 한다)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">...</span></code> : 함수의 마지막 결과로서 <code class="docutils literal notranslate"><span class="pre">...</span></code>를 출력한다. 출력하는 값의 개수는 2개 이상도 가능하며 컴마로 구분한다. <code class="docutils literal notranslate"><span class="pre">retrun</span></code> 은 예약어이다.</p></li>
</ul>
<p>함수를 정의할 때 함수의 이름과 인자를 정의하는 부분 <code class="docutils literal notranslate"><span class="pre">function_name(x,</span> <span class="pre">y,</span> <span class="pre">z,</span> <span class="pre">...)</span></code> 을 함수의 서명(signature) 라고 부른다. 또한 함수의 서명 뒤에 나오는 일련의 코드들을 함수의 몸통(body)이라고 부른다.</p>
<p>사용자 함수를 데이터프레임에 적용하는 세 가지 방법을 요약하면 다음과 같다.</p>
<ul>
<li><p>데이터프레임의 모든 셀에 함수를 적용:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataframe</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>데이터프레임의 각 열에 요약 함수를 적용:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataframe</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>데이터프레임의 각 행에 요약 함수를 적용:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dataframe</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="section" id="id17">
<h2><span class="section-number">5.5.7. </span>예제: 윷놀이의 확률<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h2>
<p>앞 절에서 확률의 기초에 대하여 알아볼 때 윷놀이의 확률에 대하여 언급하였다.</p>
<p>윷 하나를 던질 때 ‘등’ 과 ‘배’ 가 나올 확률이 다를 것이라고 모두 예상을 하지만 확률이 정확하게 얼마인지 논리적으로 추론하기는 쉽지 않다.</p>
<p><img alt="윷을 던질 때 두 가지 경우" src="../../_images/yoot.jpg" /></p>
<p>만약 ‘배’가 나올 확률이 0.6 이고 ‘등’ 이 나올 확률이 0.4 이라면 4개의 윷을 던지는 경우 도, 개, 걸, 윷, 모에 대한 확률은 얼마일까?</p>
<p>백도(빽도)와 낙은 가능한 결과에서 일단 제외하자.</p>
<p>먼저 앞에서 배운 확률의 계산 규칙을 이용하여 직접 계산해 보자. 4개의 윷을 던지는 경우 4개의 윷은 서로 독립적으로 결과가 나타나가 떄문에 표본공간은 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;등&quot;</span><span class="p">,</span> <span class="s1">&#39;배&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sample_space</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">product</span><span class="p">(</span><span class="n">yoot</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span> <span class="mi">4</span><span class="p">))</span>
<span class="n">sample_space</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;등&#39;, &#39;등&#39;, &#39;등&#39;, &#39;등&#39;),
 (&#39;등&#39;, &#39;등&#39;, &#39;등&#39;, &#39;배&#39;),
 (&#39;등&#39;, &#39;등&#39;, &#39;배&#39;, &#39;등&#39;),
 (&#39;등&#39;, &#39;등&#39;, &#39;배&#39;, &#39;배&#39;),
 (&#39;등&#39;, &#39;배&#39;, &#39;등&#39;, &#39;등&#39;),
 (&#39;등&#39;, &#39;배&#39;, &#39;등&#39;, &#39;배&#39;),
 (&#39;등&#39;, &#39;배&#39;, &#39;배&#39;, &#39;등&#39;),
 (&#39;등&#39;, &#39;배&#39;, &#39;배&#39;, &#39;배&#39;),
 (&#39;배&#39;, &#39;등&#39;, &#39;등&#39;, &#39;등&#39;),
 (&#39;배&#39;, &#39;등&#39;, &#39;등&#39;, &#39;배&#39;),
 (&#39;배&#39;, &#39;등&#39;, &#39;배&#39;, &#39;등&#39;),
 (&#39;배&#39;, &#39;등&#39;, &#39;배&#39;, &#39;배&#39;),
 (&#39;배&#39;, &#39;배&#39;, &#39;등&#39;, &#39;등&#39;),
 (&#39;배&#39;, &#39;배&#39;, &#39;등&#39;, &#39;배&#39;),
 (&#39;배&#39;, &#39;배&#39;, &#39;배&#39;, &#39;등&#39;),
 (&#39;배&#39;, &#39;배&#39;, &#39;배&#39;, &#39;배&#39;)]
</pre></div>
</div>
</div>
</div>
<p>4개의 윷을 던질 경우 결과는 ‘도’, ‘개’, ‘걸’, ‘윷’, ‘모’ 이다. 각 결과의 확률은 다음과 같이 배반 사건과 독립 시행의 확률 계산 규칙에 따라서 계산할 수 있다.</p>
<p>예를 들어 표본공간에서 ‘개’가 나오는 경우의 수는 <span class="math notranslate nohighlight">\({{4}\choose{2}} = 6\)</span> 이고 각 경우의 확률은 <span class="math notranslate nohighlight">\((0.6)\times (0.6)\times (0.4)\times (0.4)\)</span>이므로 아래와 같이 계산된다.</p>
<ol class="simple">
<li><p>‘도’가 나올 확률: 배가 1 번 나온 사건의 확률: <span class="math notranslate nohighlight">\( (4) \times (0.6)\times (0.4)\times (0.4)\times (0.4) = 0.1536\)</span></p></li>
<li><p>‘개’가 나올 확률: 배가 2 번 나온 사건의 확률: <span class="math notranslate nohighlight">\( (6)\times (0.6)\times (0.6)\times (0.4)\times (0.4) = 0.3456\)</span></p></li>
<li><p>‘걸’이 나올 확률: 배가 3 번 나온 사건의 확률: <span class="math notranslate nohighlight">\( (4)\times (0.6)\times (0.6)\times (0.6)\times (0.4) = 0.3456\)</span></p></li>
<li><p>‘윷’가 나올 확률: 배가 4 번 나온 사건의 확률: <span class="math notranslate nohighlight">\( (1)\times (0.6)\times (0.6)\times (0.6)\times (0.6) =0.1296\)</span></p></li>
<li><p>‘모’가 나올 확률: 등이 4 번 나온 사건의 확률: <span class="math notranslate nohighlight">\( (1)\times (0.4)\times (0.4)\times (0.4)\times (0.4) =0.0256 \)</span></p></li>
</ol>
<p>이런 계산은 ‘등’이 나올 확률과 ‘배’가 나올 확률이 다르게 주어진다면 다시 손으로 계산하기 너무 번거롭다.</p>
<p>일반적으로 ‘배’가 나올 확률이 <span class="math notranslate nohighlight">\(p\)</span> 이고 ‘등’이 나올 확률이 <span class="math notranslate nohighlight">\(1-p\)</span>, 라고 주어졌을 때 4개의 윷을 던질 경우 결과에 대한 확률을 다음과 같이 함수 <code class="docutils literal notranslate"><span class="pre">yoot_probability(p)</span></code>를 만들어서 구해보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yoot_probability</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>

  <span class="n">q</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">p</span>
  <span class="n">prob</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>

  <span class="n">prob</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">q</span>
  <span class="n">prob</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">q</span>
  <span class="n">prob</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">q</span>
  <span class="n">prob</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">p</span><span class="o">*</span><span class="n">p</span> 
  <span class="n">prob</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="n">q</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">q</span><span class="o">*</span><span class="n">q</span>

  <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;outcome&#39;</span><span class="p">:[</span> <span class="s1">&#39;도&#39;</span><span class="p">,</span> <span class="s1">&#39;개&#39;</span><span class="p">,</span> <span class="s1">&#39;걸&#39;</span><span class="p">,</span> <span class="s1">&#39;윷&#39;</span><span class="p">,</span> <span class="s1">&#39;모&#39;</span> <span class="p">],</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span><span class="n">prob</span><span class="p">})</span>

  <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_probability</span><span class="p">(</span><span class="mf">0.6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>outcome</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>도</td>
      <td>0.1536</td>
    </tr>
    <tr>
      <th>1</th>
      <td>개</td>
      <td>0.3456</td>
    </tr>
    <tr>
      <th>2</th>
      <td>걸</td>
      <td>0.3456</td>
    </tr>
    <tr>
      <th>3</th>
      <td>윷</td>
      <td>0.1296</td>
    </tr>
    <tr>
      <th>4</th>
      <td>모</td>
      <td>0.0256</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>‘배’가 나올 확률이 만약 0.55 라고 한다면 윷놀이의 확률은 아래과 같다.</p>
<p>‘배’가  나올 확률이 0.6 인 경우는 ‘개’와 ‘걸’ 이 나올 확률이 같았는데 0.55’로 작아지면 ‘개’의 확률이 ‘걸’의 확률보다 커지는 것을 알 수 있다.</p>
<p>이렇게 함수를 이용하면 반복되는 복잡한 계산을 편리하고 효율적으로 수행할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_probability</span><span class="p">(</span><span class="mf">0.55</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>outcome</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>도</td>
      <td>0.200475</td>
    </tr>
    <tr>
      <th>1</th>
      <td>개</td>
      <td>0.367538</td>
    </tr>
    <tr>
      <th>2</th>
      <td>걸</td>
      <td>0.299475</td>
    </tr>
    <tr>
      <th>3</th>
      <td>윷</td>
      <td>0.091506</td>
    </tr>
    <tr>
      <th>4</th>
      <td>모</td>
      <td>0.041006</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>위에서 살펴본 윷놀이 게임에서 윷의 개수를 바꾸거나 규칙을 변경하면 확률을 계산하는 공식을 새로 만들고 그에 따라서 함수를 다시 만들어야 한다.</p>
<p>이제 윷놀이의 규칙을 정하는 함수를 만들고 이 함수를 다른 함수의 인자로 사용하는 함수를 생각해 보자.</p>
<p>아래는 4개의 윷을 던졌을 경우 ‘배’의 숫자에 따라서 ‘도’, ‘개’, ‘걸’, ‘윷’, ‘모’ 를 출력해주는 함수 <code class="docutils literal notranslate"><span class="pre">yoot_rule_normal</span></code> 이다.</p>
<p>함수의 서명(signiture) 바로 아래 나오는 큰 따옴표 3개로 묶인 문장들은 함수의 사용법에 대한 설명(documentation, manual,docstring)을 제공해 준다.</p>
<p>사용자가 정의한 함수의 설명은 물음표 뒤에 함수 이름을 쓰고 입력하면 볼 수 있다. 물론 이미 파이썬이나 다른 라이브러리에서 정의된 함수의 설명도 같은 방법으로 볼 수 있다</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>?function_name
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yoot_rule_normal</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot; 윷놀이의 규칙을 정하는 함수</span>
<span class="sd">  윷을 던진 결과(예를 들어 [&#39;배&#39;,&#39;배&#39;,&#39;등&#39;,&#39;등]) x 를 입력 받아서</span>
<span class="sd">  &#39;배&#39; 의 숫자에 따른 규칙에 따라 결과를 출력해주는 함수</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span> 
    
  <span class="k">for</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
    <span class="k">if</span> <span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;배&quot;</span> <span class="p">:</span>
      <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
  
  <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;도&quot;</span>
  <span class="k">elif</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;개&quot;</span>
  <span class="k">elif</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;걸&quot;</span>
  <span class="k">elif</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;윷&quot;</span>
  <span class="k">else</span> <span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;모&quot;</span>
  <span class="k">return</span> <span class="n">out</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">?</span>yoot_rule_normal
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_rule_normal</span><span class="p">([</span><span class="s1">&#39;배&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">,</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;걸&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_rule_normal</span><span class="p">([</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;도&#39;
</pre></div>
</div>
</div>
</div>
<p>다음으로 함수 <code class="docutils literal notranslate"><span class="pre">yoot_prob(x,p)</span></code>는 2개 이상의 윷을 던져을 경우 나온 ‘배’와 ‘등’의 조합 <code class="docutils literal notranslate"><span class="pre">x</span></code>을 첫 번째 인자로 받는다. 예를 들어 4 개의 윷을 던지는 경우 <code class="docutils literal notranslate"><span class="pre">x</span></code> 의 값이 <code class="docutils literal notranslate"><span class="pre">['배','배','등','등]</span></code> 가 될 수 있으며 2개의 윷을 던지는 경우 <code class="docutils literal notranslate"><span class="pre">['배','등']</span></code> 가 될 수 있다.</p>
<p>또한 하나의 윷을 던졌을 때 ‘배’가 나올 확률 <code class="docutils literal notranslate"><span class="pre">p</span></code>을 두 번째 인자로 받아서 확률을 계산해 주는 함수이다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yoot_prob</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">p</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;윷놀이의 확률을 계산하는 함수</span>
<span class="sd">  x: 윷을 던진 결과(예를 들어 [&#39;배&#39;,&#39;배&#39;,&#39;등&#39;,&#39;등])</span>
<span class="sd">  p: &#39;배&#39;가 나올 확률</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">ans</span> <span class="o">=</span> <span class="mf">1.0</span>
  <span class="k">for</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
    <span class="k">if</span> <span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;배&quot;</span> <span class="p">:</span>
      <span class="n">ans</span> <span class="o">=</span> <span class="n">ans</span><span class="o">*</span><span class="n">p</span>
    <span class="k">else</span> <span class="p">:</span>
       <span class="n">ans</span> <span class="o">=</span> <span class="n">ans</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">ans</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_prob</span><span class="p">([</span><span class="s1">&#39;배&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">,</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">],</span> <span class="mf">0.6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.08639999999999999
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_prob</span><span class="p">([</span><span class="s1">&#39;배&#39;</span><span class="p">,</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">],</span> <span class="mf">0.55</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.136125
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_prob</span><span class="p">([</span><span class="s1">&#39;배&#39;</span><span class="p">,</span><span class="s1">&#39;등&#39;</span><span class="p">],</span> <span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.25
</pre></div>
</div>
</div>
</div>
<p>마지막으로 주어진 규칙을 따르는 윷놀이의 확률을 구해주는 함수 <code class="docutils literal notranslate"><span class="pre">yoot_summary</span></code> 는 다음과 같은 4개의 인자를 가진다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yoot</span></code>: 한 개 윷의 결과(예 [‘배’, ‘등’])</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_of_yoot</span></code>: 윷의 개수</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p_of_yoot</span></code>: 한 개 윷을 던질 때 배가 나올 확률</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rule_function</span></code>: 윷놀이 규칙을 정하는 함수</p></li>
</ul>
<p>규칙이 달라지면 윷의 개수 <code class="docutils literal notranslate"><span class="pre">num_of_yoot</span></code> 과 윷놀이 규칙을 정하는 함수 <code class="docutils literal notranslate"><span class="pre">rule_function</span></code> 를 바꾸어 주면 된다. <strong>함수는 다른 함수를 인자로 받을 수 있다.</strong></p>
<p>또한 한 개 윷을 던질 때 배가 나올 확률도 바꾸어 계산할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 윷놀이 확률 계산 </span>
<span class="k">def</span> <span class="nf">yoot_summary</span><span class="p">(</span><span class="n">yoot</span><span class="p">,</span> <span class="n">num_of_yoot</span><span class="p">,</span> <span class="n">p_of_yoot</span><span class="p">,</span> <span class="n">rule_function</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;윷놀이의 규칙에 따른 확률을 계산하는 함수</span>
<span class="sd">  yoot: 한 개 윷의 결과(예 [&#39;배&#39;, &#39;등&#39;])</span>
<span class="sd">  num_of_yoot: 윷의 개수</span>
<span class="sd">  p_of_yoot: 한 개 윷을 던질 때 배가 나올 확률</span>
<span class="sd">  rule_function: 윷놀이 규칙을 정하는 함수</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">outcomes</span> <span class="o">=</span>  <span class="p">[]</span> <span class="c1"># 빈 리스트 생성</span>
  <span class="n">prob</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">results</span> <span class="o">=</span><span class="p">[]</span>

  <span class="k">for</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">product</span><span class="p">(</span><span class="n">yoot</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span> <span class="n">num_of_yoot</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">outcomes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">out</span><span class="p">)</span> 
    <span class="n">prob</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">yoot_prob</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">p_of_yoot</span><span class="p">))</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">rule_function</span><span class="p">(</span><span class="n">out</span><span class="p">))</span>
    
  <span class="n">yoot_res</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;outcome&#39;</span><span class="p">:</span> <span class="n">outcomes</span><span class="p">,</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="n">results</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">:</span><span class="n">prob</span><span class="p">})</span>
  <span class="n">final</span> <span class="o">=</span> <span class="n">yoot_res</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;result&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;p&#39;</span><span class="p">)</span>

  <span class="k">return</span> <span class="n">final</span>
</pre></div>
</div>
</div>
</div>
<p>이제 우리가 평소에 윷놀이를 할 때 처럼 윷을 4번 던지며 ‘배’ 가 나올 확률이 각각 0.6, 0.55 인 경우 윷놀이의 확률을 알아보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_summary</span><span class="p">([</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">yoot_rule_normal</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>result</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>모</td>
      <td>0.0256</td>
    </tr>
    <tr>
      <th>4</th>
      <td>윷</td>
      <td>0.1296</td>
    </tr>
    <tr>
      <th>2</th>
      <td>도</td>
      <td>0.1536</td>
    </tr>
    <tr>
      <th>0</th>
      <td>개</td>
      <td>0.3456</td>
    </tr>
    <tr>
      <th>1</th>
      <td>걸</td>
      <td>0.3456</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_summary</span><span class="p">([</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="n">yoot_rule_normal</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>result</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>모</td>
      <td>0.041006</td>
    </tr>
    <tr>
      <th>4</th>
      <td>윷</td>
      <td>0.091506</td>
    </tr>
    <tr>
      <th>2</th>
      <td>도</td>
      <td>0.200475</td>
    </tr>
    <tr>
      <th>1</th>
      <td>걸</td>
      <td>0.299475</td>
    </tr>
    <tr>
      <th>0</th>
      <td>개</td>
      <td>0.367538</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>만약 윷을 3개로 하고 ‘배’의 개수가 1,2,3,0 에 따라서 ‘도’, ‘개, ‘윷’, ‘모’로 결과에 대한 규칙을 새로 정하면 윷놀이 확률은 어떻게 될까?</p>
<p>새로운 규칙을 함수 <code class="docutils literal notranslate"><span class="pre">yoot_rule_new(x)</span></code> 에 구현하고 윷놀이 확률을 계산해 보자.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">yoot_rule_new</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot; 윷놀이의 규칙을 정하는 함수</span>
<span class="sd">  윷을 던진 결과(예를 들어 [&#39;배&#39;,&#39;배&#39;,&#39;등&#39;,&#39;등]) x 를 입력 받아서</span>
<span class="sd">  &#39;배&#39; 의 숫자에 따른 규칙에 따라 결과를 출력해주는 함수</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span> 
    
  <span class="k">for</span> <span class="n">out</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">:</span>
    <span class="k">if</span> <span class="n">out</span> <span class="o">==</span> <span class="s2">&quot;배&quot;</span> <span class="p">:</span>
      <span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="mi">1</span>
  
  <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;도&quot;</span>
  <span class="k">elif</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;개&quot;</span>
  <span class="k">elif</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;윷&quot;</span>
  <span class="k">else</span> <span class="p">:</span>
     <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;모&quot;</span>
  <span class="k">return</span> <span class="n">out</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_summary</span><span class="p">([</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="n">yoot_rule_new</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>result</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>모</td>
      <td>0.064</td>
    </tr>
    <tr>
      <th>3</th>
      <td>윷</td>
      <td>0.216</td>
    </tr>
    <tr>
      <th>1</th>
      <td>도</td>
      <td>0.288</td>
    </tr>
    <tr>
      <th>0</th>
      <td>개</td>
      <td>0.432</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yoot_summary</span><span class="p">([</span><span class="s1">&#39;등&#39;</span><span class="p">,</span><span class="s1">&#39;배&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="n">yoot_rule_new</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>result</th>
      <th>p</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>모</td>
      <td>0.091125</td>
    </tr>
    <tr>
      <th>3</th>
      <td>윷</td>
      <td>0.166375</td>
    </tr>
    <tr>
      <th>1</th>
      <td>도</td>
      <td>0.334125</td>
    </tr>
    <tr>
      <th>0</th>
      <td>개</td>
      <td>0.408375</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters/05"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="data_probability.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title"><span class="section-number">5.4. </span>확률의 기초</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="../06/sampling-intro.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title"><span class="section-number">6. </span>표본과 경험적 분포</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By 서울시립대학교<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>